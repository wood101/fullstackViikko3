{"version":3,"sources":["components/Filter.js","components/Server.js","components/Form.js","components/Notification.js","App.js","index.js"],"names":["Filter","_this","this","react_default","a","createElement","onChange","e","props","filter","target","value","Component","baseUrl","Server","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","concat","Form","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","event","setState","newName","handleNumberChange","newNumber","addPerson","preventDefault","i","persons","length","name","state","person","window","confirm","updatePerson","number","server","newSubmission","array","catch","error","map","indexOf","splice","success","onSubmit","type","Notification","_ref","errorMessage","successMessage","className","App","updateFilter","handleClickRemoveButton","showNumber","toLowerCase","includes","key","onClick","gotJson","_this2","_this3","components_Notification","components_Filter","components_Form","React","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b5dd14d2.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nclass Filter extends Component {\n    render() {\n        return(\n        <p>rajaa näytettäviä <input onChange={(e) => this.props.filter(e.target.value)} /></p>\n        )    \n    }\n    \n}\n\nexport default Filter\n\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(baseUrl + '/' + id)\n    return request.then(response => response.data)\n}\n\nconst update = (newObject, id) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React, {Component} from 'react';\nimport server from './Server'\n\nclass Form extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n          newName: '',\n          newNumber: '',\n          error: '',\n          success: ''\n        }\n      }\n\n    render() {\n        return(\n            <form onSubmit={this.addPerson}>\n                <div>\n                    nimi: <input value={this.state.newName}\n                    onChange={this.handleNameChange} />\n                </div>\n                <div>\n                    numero: <input value={this.state.newNumber}\n                    onChange={this.handleNumberChange}/>\n                </div>\n                <div>\n                    <button type=\"submit\">lisää</button>\n                </div>\n            </form>\n        )    \n    }\n\n    handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n    }\n    \n    handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n    }\n\n    addPerson = (event) => {\n        event.preventDefault()\n        for(var i = 0; i < this.props.persons.length; i++) {\n            if(this.props.persons[i].name === this.state.newName) {\n                const person = this.props.persons[i]\n                if(window.confirm(person.name + \" on jo luettelossa, korvataanko vanha numero uudella?\")) {\n                    this.updatePerson(person)\n                }\n                return\n            }\n        }\n\n        const person = {\n            name: this.state.newName,\n            number: this.state.newNumber\n        }\n        \n        server.create(person).then(response => {\n            this.setState({\n                newName: '',\n                newNumber: ''\n            })\n            const persons = this.props.persons.concat(response)\n            this.props.newSubmission(persons, 'Lisättiin ' + person.name + '.', null)\n        })\n\n    }\n    updatePerson = (person) => {\n        person.number = this.state.newNumber\n\n        server.update(person, person.id).then(response => {\n            this.setState({\n                newName: '',\n                newNumber: ''\n            })\n            server.getAll().then(array => {\n                this.props.newSubmission(array, 'Henkilön ' + person.name + ' numero vaihdettiin onnistuneesti.', null)\n            })\n        }).catch(error => {\n            const i = this.props.persons.map(e => e.id).indexOf(person.id);\n            var array = this.props.persons\n            array.splice(i, 1)\n            this.props.newSubmission(array, null , 'Henkilön ' + person.name + ' tiedot on jo poistettu.')\n        })\n    }\n}\nexport default Form","import React from 'react';\r\n  \r\n  const Notification = ({ errorMessage, successMessage }) => {\r\n    if (errorMessage === null && successMessage === null) {\r\n      return null\r\n    } else if (errorMessage === null) {\r\n        return(\r\n            <div className=\"success\">\r\n                {successMessage}\r\n            </div>\r\n        )\r\n    } else if (successMessage === null) {\r\n        return(\r\n            <div className=\"error\">\r\n                {errorMessage}\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"error\">\r\n                {errorMessage}\r\n            </div>\r\n            <div className=\"success\">\r\n                {successMessage}\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from 'react';\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport server from './components/Server'\nimport Notification from './components/Notification'\nimport './index.css'\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      filter: '',\n      gotJson: false,         \n      error: null,\n      success: null\n    }\n  }\n\n  componentDidMount() {\n    server.getAll().then(persons => {\n        this.setState({persons})\n        this.setState({gotJson: true})\n      })\n  }\n\n  updateFilter = (filter) => {\n    this.setState({filter})\n  }\n\n  updatePerson = (persons, success, error) => {\n    this.setState({persons})\n    this.setState({success})\n    this.setState({error})\n  }\n\n  handleClickRemoveButton = (person) => {\n    if (window.confirm(\"Poistetaanko \"+ person.name +\"?\")) { \n      const i = this.state.persons.map(e => e.id).indexOf(person.id);\n      server.remove(person.id)\n      var array = this.state.persons\n      array.splice(i, 1)\n      this.setState({persons: array})\n  }\n  }\n\n  showNumber = (person) => {\n    if(person.name.toLowerCase().includes(this.state.filter.toLowerCase())) {\n      return (\n      <div key={person.name}>\n        <p>{person.name} {person.number}  <button onClick={() => this.handleClickRemoveButton(person)}>poista</button> </p>\n      </div>\n         )\n    }\n  }\n\n  render() {\n    if(!this.state.gotJson) return null\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification errorMessage={this.state.error} successMessage={this.state.success}/>\n        <Filter filter = {this.updateFilter} />\n        <h2>Lisää uusi tai muuta olemassa olevan henkilön numeroa</h2>\n        <Form newSubmission = {this.updatePerson} persons = {this.state.persons} />\n        <h2>Numerot</h2>\n        <div>\n        {this.state.persons.map(person => this.showNumber(person))}\n        </div>\n        \n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}